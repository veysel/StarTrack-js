(this["webpackJsonpstartrack-js"]=this["webpackJsonpstartrack-js"]||[]).push([[0],{111:function(e,t,a){},112:function(e,t,a){},114:function(e,t,a){},116:function(e,t,a){},120:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(12),o=a.n(s),i=(a(87),a(6)),l=a(7),c=a(9),u=a(8),p=a(10),h=a(133),d=a(132),m=a(122),g=a(134),b=a(123),f=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"getAccessTokenShortForm",value:function(){var e=this.props.accessToken;return null!==e&&void 0!==e?e.substring(0,6):""}},{key:"render",value:function(){return null===this.props.accessToken||void 0===this.props.accessToken||""===this.props.accessToken?n.a.createElement(m.a,{variant:"outline-light",onClick:this.props.onLoginClick},"GitHub Authentication"):n.a.createElement("div",null,n.a.createElement(g.a,{placement:"bottom",delay:{show:250},overlay:n.a.createElement(b.a,null,"Access token stored in ",this.props.storageType)},n.a.createElement(h.a.Text,{className:"mr-2 ml-2"},"Signed in as: '".concat(this.getAccessTokenShortForm(),"'"))),n.a.createElement(m.a,{variant:"outline-light",onClick:this.props.onLogoutClick},"Log Out"))}}]),t}(n.a.Component),v=a(130),k=a(131),y=a(74),E=a(14),j=a.n(E),S=a(54),w=a.n(S),O="statrack_js_access_token",C="local storage",x="session storage",L=function(){function e(){Object(i.a)(this,e)}return Object(l.a)(e,[{key:"validateAndStoreAccessToken",value:function(e,t){return j.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,j.a.awrap(w.a.get("https://api.github.com/user",this._prepareRequestHeaders(e)));case 3:this._setStorageType(t).setItem(O,e),a.next=10;break;case 6:throw a.prev=6,a.t0=a.catch(0),console.log(a.t0),a.t0;case 10:case"end":return a.stop()}}),null,this,[[0,6]])}},{key:"removeAccessToken",value:function(){this._getStorage().removeItem(O)}},{key:"sleep",value:function(e){return new Promise((function(t){return setTimeout(t,e)}))}},{key:"loadStargazers",value:function(e,t,a,r){var n,s,o,i,l,c,u;return j.a.async((function(p){for(;;)switch(p.prev=p.next){case 0:p.prev=0,n=[],s=1,o=1,i=1,a(0);case 6:if(!(i<=o)){p.next=22;break}if(!r()){p.next=9;break}return p.abrupt("return",null);case 9:return l="https://api.github.com/repos/{user}/{repo}/stargazers?per_page=100&page={page}".replace("{page}",i).replace("{user}",e).replace("{repo}",t),p.next=12,j.a.awrap(w.a.get(l,this._prepareRequestHeaders(this.getAccessToken())));case 12:if(c=p.sent,1!==i){p.next=17;break}if(!((o=this._getLastStargazerPage(c.headers.link))>30)||this.isLoggedIn()){p.next=17;break}throw Error('Cannot load a repo with more than 3000 stars without GitHub access token. Please click "GitHub Authentication" and provide one');case 17:for(a(i/o*100),i++,u=0;u<c.data.length;u++)n.push({x:c.data[u].starred_at,y:s++});p.next=6;break;case 22:return p.abrupt("return",n);case 25:if(p.prev=25,p.t0=p.catch(0),void 0!==p.t0.response){p.next=29;break}throw p.t0;case 29:if(404!==p.t0.response.status){p.next=33;break}throw Error("Repo "+e+"/"+t+" Not found");case 33:if(403!==p.t0.response.status){p.next=37;break}throw Error("API rate limit exceeded!"+(this.isLoggedIn()?"":' Please click "GitHub Authentication" and provide GitHub access token to increase rate limit'));case 37:throw Error("Couldn't fetch stargazers data, error code "+p.t0.response.status+" returned"+(p.t0.response.data.message&&""!==p.t0.response.data.message?": "+p.t0.response.data.message:""));case 38:case"end":return p.stop()}}),null,this,[[0,25]])}},{key:"getAccessToken",value:function(){return this._getStorage().getItem(O)}},{key:"isLoggedIn",value:function(){var e=this.getAccessToken();return null!==e&&void 0!==e&&""!==e}},{key:"getStorageType",value:function(){switch(this._getStorage()){case sessionStorage:return x;case localStorage:return C;default:return null}}},{key:"_getStorage",value:function(){return e._storage}},{key:"_setStorageType",value:function(t){switch(this.removeAccessToken(),t){case C:e._storage=localStorage;break;case x:e._storage=sessionStorage;break;default:e._storage=sessionStorage}return e._storage}},{key:"_prepareRequestHeaders",value:function(e){return{headers:Object(y.a)({Accept:"application/vnd.github.v3.star+json"},void 0!==e&&null!==e&&""!==e&&{Authorization:"token "+e})}}},{key:"_getLastStargazerPage",value:function(e){if(void 0===e||0===e.length)return 1;var t=e.split(",");for(var a in t){var r=t[a].split(";");if(2===r.length){var n=r[0].replace(/<(.*)>/,"$1").trim();if("last"===r[1].replace(/rel="(.*)"/,"$1").trim())return n.replace(/(.*)&page=(.*)/,"$2").trim()}}}}],[{key:"_getStorageDefault",value:function(){return null!==sessionStorage.getItem(O)&&void 0!==sessionStorage.getItem(O)&&""!==sessionStorage.getItem(O)?sessionStorage:null!==localStorage.getItem(O)&&void 0!==localStorage.getItem(O)&&""!==localStorage.getItem(O)?localStorage:sessionStorage}}]),e}();L._storage=L._getStorageDefault();var T=new L;Object.freeze(T);var A=T,P=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={tokenValid:!0},a.handleLoginClick=function(e){e.preventDefault(),A.validateAndStoreAccessToken(a.inputToken.current.value,a.getStorageTypeDecision()).then((function(){a.setState({tokenValid:!0},(function(){a.props.handleLoginSuccess()}))})).catch((function(){a.setState({tokenValid:!1})}))},a.inputToken=n.a.createRef(),a.storageTypeCheckbox=n.a.createRef(),a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"getStorageTypeDecision",value:function(){return this.storageTypeCheckbox.checked?C:x}},{key:"handleCloseClick",value:function(){var e=this;this.setState({tokenValid:!0},(function(){e.props.handleClose()}))}},{key:"render",value:function(){var e=this;return n.a.createElement(v.a,{show:this.props.show,onHide:this.handleCloseClick.bind(this)},n.a.createElement(k.a,{onSubmit:this.handleLoginClick},n.a.createElement(v.a.Header,{closeButton:!0},n.a.createElement(v.a.Title,null,"GitHub Authentication")),n.a.createElement(v.a.Body,null,n.a.createElement("p",null,"GitHub API ",n.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://developer.github.com/v3/#rate-limiting"},"rate limiter")," makes it impossible to collect stargazer data on repos with more than 3000 stars without GitHub authentication."),n.a.createElement("p",null,"If you'd like to view stargazer data for this repo, please provide your GitHub auth details."),n.a.createElement("p",null,"Please note these credentials aren't stored in any server. This application is based on pure javascript so the credentials are only used to send authenticated requests to GitHub API."),n.a.createElement(k.a.Group,{controlId:"githubAuthenticationForm"},n.a.createElement(k.a.Label,null,"GitHub access token (generate one ",n.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/settings/tokens"},"here"),")"),n.a.createElement(k.a.Control,{ref:this.inputToken,type:"text",placeholder:"fc516773214acf13d10f856c6b80037999da4fd3",isInvalid:!this.state.tokenValid,required:!0}),n.a.createElement(k.a.Control.Feedback,{type:"invalid"},"Access token is invalid."),n.a.createElement(k.a.Text,{className:"text-muted"},"These credentials aren't stored in any server."),n.a.createElement(k.a.Check,{ref:function(t){return e.storageTypeCheckbox=t},inline:!0,type:"checkbox",id:"storageType",label:"Save access token in local storage"}),n.a.createElement(k.a.Label,null,n.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://stackoverflow.com/questions/5523140/html5-local-storage-vs-session-storage"},"Learn more")))),n.a.createElement(v.a.Footer,null,n.a.createElement(m.a,{variant:"secondary",onClick:this.handleCloseClick.bind(this)},"Close"),n.a.createElement(m.a,{variant:"primary",type:"submit"},"Login"))))}}]),t}(n.a.Component),R=function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).state={showGitHubAuthForm:!1,accessToken:A.getAccessToken(),storageType:A.getStorageType()},a.openGitHubAuthForm=function(){a.setState({showGitHubAuthForm:!0})},a.hideGitHubAuthForm=function(){a.setState({showGitHubAuthForm:!1,accessToken:A.getAccessToken(),storageType:A.getStorageType()})},a.handleLoginSuccess=function(){a.setState({showGitHubAuthForm:!1,accessToken:A.getAccessToken(),storageType:A.getStorageType()})},a.handleLogOut=function(){A.removeAccessToken(),a.setState({accessToken:A.getAccessToken(),storageType:A.getStorageType()})},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement(f,{onLoginClick:this.openGitHubAuthForm,onLogoutClick:this.handleLogOut,accessToken:this.state.accessToken,storageType:this.state.storageType}),n.a.createElement(P,{show:this.state.showGitHubAuthForm,handleClose:this.hideGitHubAuthForm,handleLoginSuccess:this.handleLoginSuccess}))}}]),t}(n.a.Component),D=a(19),I=a(40),N=a(76),_=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return n.a.createElement(h.a,{bg:"primary",variant:"dark"},n.a.createElement(h.a.Brand,{href:"#/"},n.a.createElement("img",{alt:"",src:window.location.pathname+"star-icon.png",width:"30",height:"30",className:"d-inline-block align-top"})," ","StarTrack v",N.version),n.a.createElement(d.a,{className:"mr-auto"}),n.a.createElement(d.a,null,n.a.createElement(d.a.Link,{href:"https://github.com/seladb/startrack-js",target:"_blank",rel:"noopener noreferrer"},n.a.createElement(D.a,{icon:I.a,className:"mr-1"}),"Project On GitHub")),n.a.createElement(R,null))}}]),t}(n.a.Component),H=a(41),z=a(135),G=a(124),F=a(125),B=(a(111),a(112),a(126)),M=a(75),U=a(127),V=a(30),q=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).repoName=n.a.createRef(),e.userName=n.a.createRef(),e}return Object(p.a)(t,e),Object(l.a)(t,[{key:"onGoClick",value:function(){this.props.onRepoDetails(this.userName.current.value,this.repoName.current.value)}},{key:"handleKeyPress",value:function(e){13!==e.charCode||this.props.loadInProgress||this.onGoClick()}},{key:"render",value:function(){return n.a.createElement(G.a,{className:"RepoDetails-container"},n.a.createElement(F.a,null,n.a.createElement(B.a,null,n.a.createElement(B.a.Prepend,null,n.a.createElement(B.a.Text,null,"Repo Details")),n.a.createElement(M.a,{ref:this.userName,placeholder:"Username","aria-label":"Username",onKeyPress:this.handleKeyPress.bind(this)}),n.a.createElement(B.a.Prepend,null,n.a.createElement(B.a.Text,null,"/")),n.a.createElement(M.a,{ref:this.repoName,placeholder:"Repo name","aria-label":"Repo name",onKeyPress:this.handleKeyPress.bind(this)}),this.props.loadInProgress?n.a.createElement("div",null,n.a.createElement(m.a,{className:"RepoDetails-loadingButton",type:"button",disabled:!0},n.a.createElement(U.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"})," Loading..."),n.a.createElement(m.a,{className:"RepoDetails-stopButton",onClick:this.props.onStopClick},n.a.createElement(D.a,{icon:V.c}))):n.a.createElement(m.a,{className:"RepoDetails-goButton",type:"button",onClick:this.onGoClick.bind(this)},"Go!"))))}}]),t}(n.a.Component),J=a(78),K=a.n(J),$=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.repos,t=e.map((function(e){return{name:e.username+"/"+e.repo,data:e.stargazerData}})),a={chart:{id:"stargazers",zoom:{autoScaleYaxis:!(this.props.repos.length>1)}},xaxis:{type:"datetime"},tooltip:{x:{format:"dd MMM yyyy"}},colors:e.map((function(e){return e.color}))};return n.a.createElement(G.a,{className:"mt-5 mb-5"},n.a.createElement(K.a,{options:a,series:t,type:"line"}))}}]),t}(n.a.Component),Y=a(128),W=(a(114),function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return n.a.createElement(G.a,{className:"StatsTable-topContainer"},n.a.createElement("h3",null,"Repo stats:"),n.a.createElement(Y.a,{bordered:!0,responsive:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",{className:"StatsTable-header"},n.a.createElement("th",null),Object.keys(this.props.repos[0].stats).map((function(e){return n.a.createElement("th",null,e)})))),n.a.createElement("tbody",null,this.props.repos.map((function(e){return n.a.createElement("tr",{className:"StatsTable-row",style:{backgroundColor:e.color}},n.a.createElement("th",null,e.username+" / "+e.repo),Object.values(e.stats).map((function(e){return n.a.createElement("th",null,e)})))})))))}}]),t}(n.a.Component)),Q=window.location.origin+window.location.pathname+"#/preload?",X=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).urlInput=n.a.createRef(),e}return Object(p.a)(t,e),Object(l.a)(t,[{key:"buildURL",value:function(){return Q+this.props.repos.map((function(e){return"r={user},{repo}".replace("{user}",e.username).replace("{repo}",e.repo)})).join("&")}},{key:"copyToClipboard",value:function(e){this.urlInput.current.select(),document.execCommand("copy")}},{key:"render",value:function(){var e=this.buildURL();return n.a.createElement(B.a,{className:"mb-3 mt-5"},n.a.createElement(B.a.Prepend,null,n.a.createElement(B.a.Text,{id:"url"},"URL")),n.a.createElement(M.a,{readOnly:!0,"aria-label":"URL",value:e,ref:this.urlInput}),n.a.createElement(B.a.Append,null,n.a.createElement(g.a,{placement:"right",delay:{show:250},overlay:n.a.createElement(b.a,null,"Copy URL")},n.a.createElement(m.a,{variant:"outline-secondary",onClick:this.copyToClipboard.bind(this)},n.a.createElement(D.a,{icon:V.a})))))}}]),t}(n.a.Component),Z=a(129),ee=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"handleBadgeClose",value:function(){this.props.onBadgeClose(this.props.badgeCookieData)}},{key:"render",value:function(){return n.a.createElement("h5",null,n.a.createElement(Z.a,{pill:!0,variant:"primary",style:{backgroundColor:this.props.color}},this.props.text,n.a.createElement(m.a,{size:"sm",onClick:this.handleBadgeClose.bind(this),style:{backgroundColor:this.props.color,borderColor:this.props.color}},n.a.createElement(D.a,{icon:V.d}))))}}]),t}(n.a.Component),te=a(56),ae=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.pageEmpty?"fixed-bottom":"";return n.a.createElement(h.a,{bg:"light",sticky:"bottom",className:e},n.a.createElement(h.a.Text,{className:"mr-2"},"Created by"),n.a.createElement(te.a,{href:"https://github.com/seladb","data-size":"large","aria-label":"@seladb"},"@seladb"),n.a.createElement(h.a.Text,{className:"ml-2 mr-2"},"Give us a star:"),n.a.createElement(te.a,{href:"https://github.com/seladb/startrack-js","data-icon":"octicon-star","data-size":"large","data-show-count":"true","aria-label":"Star StarTrack on GitHub"},"Star"),n.a.createElement(d.a,{className:"mr-auto"}),n.a.createElement(d.a,null,n.a.createElement(d.a.Link,{href:"https://github.com/seladb",target:"_blank",rel:"noopener noreferrer"},n.a.createElement(D.a,{icon:I.a,className:"mr-1"})),n.a.createElement(d.a.Link,{href:"https://twitter.com/seladb",target:"_blank",rel:"noopener noreferrer"},n.a.createElement(D.a,{icon:I.b,className:"mr-1"})),n.a.createElement(d.a.Link,{href:"mailto:pcapplusplus@gmail.com",target:"_blank",rel:"noopener noreferrer"},n.a.createElement(D.a,{icon:V.b,className:"mr-1"}))))}}]),t}(n.a.Component),re=["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"],ne=new(function(){function e(){Object(i.a)(this,e)}return Object(l.a)(e,[{key:"calcStats",value:function(e){var t=new Date(e[0].x),a=new Date(e[e.length-1].x),r=Math.floor(new Date(a-t)/1e3/60/60/24),n=0,s=0,o=e[0].x,i=1,l=Math.floor(new Date(0)/1e3/60/60/24),c=l;return e.forEach((function(e){var t=Math.floor(new Date(e.x)/1e3/60/60/24);t===c?i+=1:(c!==l&&(n+=t-c-1),i>s&&(s=i,o=new Date(e.x)),i=1),c=t})),{"Number of stars":e.length,"Number of days":r,"Average stars per day":(e.length/r).toFixed(3),"Average days per star":(r/e.length).toFixed(3),"Days with stars":r-n,"Max stars in one day":s,"Day with most stars":this._formatDate(o)}}},{key:"_formatDate",value:function(e){return e.getDate()+"-"+re[e.getMonth()]+"-"+e.getFullYear()}}]),e}());Object.freeze(ne);var se=ne,oe=["#008FFB","#00E396","#FEB019","#FF4560","#775DD0","#F86624","#00B1F2","#5A2A27"],ie=function(){function e(){Object(i.a)(this,e)}return Object(l.a)(e,[{key:"loadStargazers",value:function(t,a,r,n){var s;return j.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,j.a.awrap(A.loadStargazers(t,a,r,n));case 2:if(null!==(s=o.sent)){o.next=5;break}return o.abrupt("return",null);case 5:return e.colorIndex=e.colorIndex+1===oe.length?0:e.colorIndex+1,o.abrupt("return",{username:t,repo:a,color:oe[e.colorIndex],stargazerData:s,stats:se.calcStats(s)});case 7:case"end":return o.stop()}}))}}]),e}();ie.colorIndex=-1;var le=new ie;Object.freeze(le);var ce=le,ue=function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).state={repos:a.props.preloadedRepos?a.props.preloadedRepos:[],alert:{show:!1,title:"",message:""},loading:{isLoading:!1,loadProgress:0,stopLoading:!1}},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"getRepoStargazers",value:function(e,t){var a,r=this;return j.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e&&""!==e&&t&&""!==t){n.next=3;break}return this.showAlert("Missing details","Please provide both Username and Repo name"),n.abrupt("return");case 3:if(void 0===this.state.repos.find((function(a){return a.username===e&&a.repo===t}))){n.next=6;break}return this.showAlert("Repo exists","Repo already exists"),n.abrupt("return");case 6:if(!(this.state.repos.length+1>8)){n.next=9;break}return this.showAlert("Reached max number of repos allowed","Maximum repos that can be shown at the same time is 8"),n.abrupt("return");case 9:return n.prev=9,n.next=12,j.a.awrap(ce.loadStargazers(e,t,this.onLoadInProgress.bind(this),(function(){return r.state.loading.stopLoading})));case 12:a=n.sent,this.setState((function(e){return{repos:null!==a?[].concat(Object(H.a)(e.repos),[a]):e.repos,loading:{isLoading:!1,loadProgress:0,stopLoading:!1}}})),n.next=20;break;case 16:n.prev=16,n.t0=n.catch(9),this.showAlert("Error loading stargazers",n.t0.message),this.setState({loading:{isLoading:!1,loadProgress:0}});case 20:case"end":return n.stop()}}),null,this,[[9,16]])}},{key:"showAlert",value:function(e,t){this.setState({alert:{show:!0,title:e,message:t}})}},{key:"closeAlert",value:function(){this.setState({alert:{show:!1,title:"",message:""}})}},{key:"onLoadInProgress",value:function(e){this.setState({loading:{isLoading:!0,loadProgress:e,stopLoading:this.state.loading.stopLoading}})}},{key:"handleStopLoading",value:function(){this.setState({loading:{stopLoading:!0}})}},{key:"handleRemoveRepo",value:function(e){this.setState({repos:this.state.repos.filter((function(t){return t.username!==e.username||t.repo!==e.repo}))})}},{key:"render",value:function(){var e=this;return n.a.createElement("div",null,this.state.loading.isLoading?n.a.createElement(z.a,{now:this.state.loading.loadProgress,variant:"success",animated:!0}):n.a.createElement("div",{className:"progress MainContainer-progressBarPlaceholder"}),n.a.createElement(q,{onRepoDetails:this.getRepoStargazers.bind(this),loadInProgress:this.state.loading.isLoading,onStopClick:this.handleStopLoading.bind(this)}),n.a.createElement(G.a,null,n.a.createElement(F.a,null,this.state.repos.map((function(t){return n.a.createElement("div",{className:"MainContainer-closableBadgeContainer"},n.a.createElement(ee,{text:t.username+"/"+t.repo,badgeCookieData:{username:t.username,repo:t.repo},onBadgeClose:e.handleRemoveRepo.bind(e),color:t.color}))})))),this.state.repos.length>0?n.a.createElement($,{repos:this.state.repos}):null,this.state.repos.length>0?n.a.createElement(G.a,null,n.a.createElement(W,{repos:this.state.repos})):null,this.state.repos.length>0?n.a.createElement(G.a,null,n.a.createElement(X,{repos:this.state.repos})):null,n.a.createElement(ae,{pageEmpty:0===this.state.repos.length}),n.a.createElement(v.a,{show:this.state.alert.show,onHide:this.closeAlert},n.a.createElement(v.a.Header,{closeButton:!0},n.a.createElement(v.a.Title,null,this.state.alert.title)),n.a.createElement(v.a.Body,null,this.state.alert.message),n.a.createElement(v.a.Footer,null,n.a.createElement(m.a,{variant:"primary",onClick:this.closeAlert.bind(this)},"Close"))))}}]),t}(n.a.Component),pe=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement(_,null),n.a.createElement(ue,{preloadedRepos:this.props.preloadedRepos}))}}]),t}(n.a.Component),he=(a(116),function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).reposToPreload=a.parseUrlParams(),a.state={currentlyLoadingIndex:0,loadProgress:0,finishedLoading:!1,reposLoaded:[],errors:[]},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"parseUrlParams",value:function(){var e=new URLSearchParams(this.props.location.search),t=[];return e.forEach((function(e,a){if("r"===a){var r=e.split(",");t.length<8&&2===r.length&&void 0===t.find((function(e){return e.username===r[0]&&e.repo===r[1]}))&&t.push({username:r[0],repo:r[1]})}})),t}},{key:"componentDidMount",value:function(){this.loadStargazers()}},{key:"loadStargazers",value:function(){var e,t,a=this;return j.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,e=this.getCurrentlyLoadingRepoDetails(),0!==Object.keys(e).length){r.next=5;break}return this.setState({finishedLoading:!0,loadProgress:100}),r.abrupt("return");case 5:return r.next=7,j.a.awrap(ce.loadStargazers(e.username,e.repo,this.handleLoadProgress.bind(this),(function(){return!1})));case 7:t=r.sent,this.setState((function(e){return{currentlyLoadingIndex:a.state.currentlyLoadingIndex+1,reposLoaded:[].concat(Object(H.a)(e.reposLoaded),[t])}}),(function(){a.loadStargazers()})),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(0),this.setState((function(e){return{currentlyLoadingIndex:a.state.currentlyLoadingIndex+1,errors:[].concat(Object(H.a)(e.errors),[{repoDetails:a.getCurrentlyLoadingRepoDetails(),message:r.t0.message}])}}),(function(){a.loadStargazers()}));case 14:case"end":return r.stop()}}),null,this,[[0,11]])}},{key:"handleLoadProgress",value:function(e){this.setState({loadProgress:e})}},{key:"getCurrentlyLoadingRepoDetails",value:function(){return this.state.currentlyLoadingIndex>=this.reposToPreload.length?{}:{username:this.reposToPreload[this.state.currentlyLoadingIndex].username,repo:this.reposToPreload[this.state.currentlyLoadingIndex].repo}}},{key:"handleButtonClick",value:function(){this.setState({errors:[]})}},{key:"getProgressBarVariant",value:function(){return this.state.finishedLoading&&this.state.errors.length>0?"warning":"success"}},{key:"getSecondaryHeaderMessage",value:function(){if(this.state.finishedLoading&&this.state.errors.length>0)return"Error loading repos";var e=this.getCurrentlyLoadingRepoDetails();return e.username+"/"+e.repo}},{key:"render",value:function(){return n.a.createElement("div",null,!1===this.state.finishedLoading||this.state.errors.length>0?n.a.createElement(G.a,{className:"RepoPreloader-topContainer"},n.a.createElement("h3",null,"Loading Repos Data..."),n.a.createElement("h5",null,this.getSecondaryHeaderMessage()),n.a.createElement(z.a,{now:this.state.loadProgress,variant:this.getProgressBarVariant(),animated:!0}),this.state.errors.length>0?n.a.createElement(G.a,{className:"RepoPreloader-errorContainer"},this.state.errors.map((function(e){return n.a.createElement("h6",null,n.a.createElement("b",null,"Error loading ",e.repoDetails.username,"/",e.repoDetails.repo,":")," ",e.message)})),this.state.finishedLoading?n.a.createElement(m.a,{onClick:this.handleButtonClick.bind(this)},"Continue"):null):null):n.a.createElement(pe,{preloadedRepos:this.state.reposLoaded}))}}]),t}(n.a.Component)),de=a(79),me=a(31);var ge=function(){return n.a.createElement(de.a,null,n.a.createElement(me.a,{exact:!0,path:"/",component:pe}),n.a.createElement(me.a,{path:"/preload",component:he}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(119);o.a.render(n.a.createElement(ge,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},76:function(e){e.exports=JSON.parse('{"name":"startrack-js","version":"2.0.0","private":true,"homepage":"http://seladb.github.io/StarTrack-js","dependencies":{"@fortawesome/fontawesome-svg-core":"^1.2.26","@fortawesome/free-brands-svg-icons":"^5.12.0","@fortawesome/free-solid-svg-icons":"^5.12.0","@fortawesome/react-fontawesome":"^0.1.8","@testing-library/jest-dom":"^4.2.4","@testing-library/react":"^9.4.0","@testing-library/user-event":"^7.2.1","apexcharts":"^3.14.0","axios":"^0.19.0","bootstrap":"^4.4.1","react":"^16.12.0","react-apexcharts":"^1.3.6","react-bootstrap":"^1.0.0-beta.16","react-dom":"^16.12.0","react-github-btn":"^1.1.1","react-router-dom":"^5.1.2","react-scripts":"3.2.0"},"scripts":{"predeploy":"npm run build","deploy":"gh-pages -d build","start":"react-scripts start","build":"react-scripts build","test":"react-scripts test","eject":"react-scripts eject"},"eslintConfig":{"extends":"react-app"},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]},"devDependencies":{"gh-pages":"^2.2.0"}}')},82:function(e,t,a){e.exports=a(120)},87:function(e,t,a){}},[[82,1,2]]]);
//# sourceMappingURL=main.c2480f6e.chunk.js.map